SQL分析用于定义不同SQL的执行性能从而确定存在的问题和优化的方向
# SQL执行频率
通过`show [session | global] status`命令可以查看服务器状态信息，通过下面的命令
```sql
show global status like 'Com_____';
```
就可以查看`insert` 、`update` 、`delete`等命令的执行频率，一个`_`等于一个字符，要注意字符数量的匹配

# 慢日志查询
慢查询日志记录了所有的执行事件超过执行参数的所有SQL语句的日志，默认情况下慢查询日志没有开启
```sql
show variables like 'slow_query_log';
```
可以查看慢查询日志有没有开启

可以在`etc/my.conf`中配置开启慢查询日志和参数
```
# 开启慢查询
slow_query_low = 1

# 将慢查询超时事件设置为2s
long_query_time = 2
```

修改完之后，重启数据库即可
慢查询日志存储在`/var/lib/mysql/localhost-slow.log`文件中

# profile详情
`show profiles`可以帮助我们分析SQL语句事件都花到哪里去了
```sql
select @@have_profiling;
```
可以查看数据库支不支持这个功能

通过
```sql
set [session | global] profiling = 1;
```
开启profile详情

开启后执行sql操作，profile会记录sql的执行详情
我们可以通过
```sql
show profiles;
```
查看每条sql语句的耗时情况

通过
```sql
show profile for sql语句的id;
```
可以查看指定的SQL语句在各个阶段的耗时，sql语句的id可以通过`show profiles`命令查看
```
show cpu profile for sql语句的id;
```
还可以查看cpu的使用情况

# explain执行计划


